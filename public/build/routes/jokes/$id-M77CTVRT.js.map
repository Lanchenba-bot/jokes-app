{
  "version": 3,
  "sources": ["../../../../app/routes/jokes/$id.tsx"],
  "sourcesContent": ["import { Link, useLoaderData } from \"@remix-run/react\"\r\nimport { useState } from \"react\"\r\nimport { resourceLoader, resourceAction } from \"~/controllers/jokes\"\r\n\r\nexport const action = resourceAction\r\nexport const loader = resourceLoader\r\n\r\nconst JokeRoute = () => {\r\n  const { joke, comments, userId } = useLoaderData<typeof loader>()\r\n  const [parentId, setParentId] = useState(\"\")\r\n  const [view, setView] = useState(false)\r\n  return (\r\n    <div>\r\n      <p>Here's your hilarious joke:</p>\r\n      <p>{joke.content}</p>\r\n\r\n      <Link to=\".\">{joke.name}</Link>\r\n      {/* delete-joke section */}\r\n      {userId === joke.jokesterId && (\r\n        <div className=\"edit-and-delete-jokes\">\r\n          <form method=\"post\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"delete-button\"\r\n              name=\"delete-joke\"\r\n              value={joke.id}>\r\n              delete post\r\n            </button>\r\n          </form>\r\n\r\n          {/* edit-joke section */}\r\n\r\n          <button\r\n            onClick={() => setView(!view)}\r\n            className=\"bg-purple-600 rounded px-2 py-1 mt-4\">\r\n            {!view ? <span>edit post</span> : <span>close</span>}\r\n          </button>\r\n\r\n          {view && (\r\n            <form method=\"post\" className=\"edit-joke\">\r\n              <div>\r\n                <label>\r\n                  Edit Joke:{\" \"}\r\n                  <input\r\n                    name=\"edit-joke\"\r\n                    type=\"text\"\r\n                    defaultValue={joke.content}\r\n                  />\r\n                </label>\r\n              </div>\r\n              <button type=\"submit\" className=\"button\">\r\n                update\r\n              </button>\r\n            </form>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-[#00000011] p-4 rounded-lg\">\r\n        {/* comment section */}\r\n        <form method=\"post\">\r\n          <div>\r\n            <label>\r\n              Comment: <input name=\"comment\" type=\"text\" />\r\n            </label>\r\n          </div>\r\n          <button type=\"submit\" className=\"button\">\r\n            post\r\n          </button>\r\n        </form>\r\n\r\n        {comments.length !== 0 && (\r\n          <div\r\n            className=\"commentbox \"\r\n            style={{ overflowY: \"scroll\", maxHeight: \"500px\" }}>\r\n            <p>Comments</p>\r\n\r\n            {comments.map(\r\n              (comment, index) =>\r\n                comment.content.length !== 0 && (\r\n                  <div\r\n                    key={index}\r\n                    className=\"comments border border-[#FFFFFF33]\">\r\n                    <span>{comment.jokester.username} </span>\r\n                    <p>{comment.content}</p>\r\n\r\n                    <div className=\"delete-comment-section \">\r\n                      {userId === comment.commenterId && (\r\n                        <form method=\"post\" className=\"comment-form\">\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"delete-button-comment\"\r\n                            name=\"delete-comment\"\r\n                            value={comment.id}>\r\n                            delete\r\n                          </button>\r\n                        </form>\r\n                      )}\r\n                      {comment.childComments &&\r\n                        comment.childComments.map((reply) => (\r\n                          <div\r\n                            className=\"bg-[#FFFFFF33] p-5 mt-2 rounded\"\r\n                            key={reply.id}>\r\n                            {/* <span>{comment.jokester.username} </span> */}\r\n                            <p>{reply.content}</p>\r\n\r\n                            <form method=\"post\" className=\"comment-form\">\r\n                              {(reply.commenterId === userId ||\r\n                                comment.commenterId === userId) && (\r\n                                <button\r\n                                  type=\"submit\"\r\n                                  className=\"delete-button-comment\"\r\n                                  name=\"delete-comment\"\r\n                                  value={reply.id}>\r\n                                  delete\r\n                                </button>\r\n                              )}\r\n                            </form>\r\n                          </div>\r\n                        ))}\r\n                      <div className=\"mt-2\">\r\n                        {!parentId ? (\r\n                          <button\r\n                            className=\"bg-purple-600 px-2 py-1 rounded\"\r\n                            type=\"button\"\r\n                            onClick={() => setParentId(comment.id)}>\r\n                            Reply\r\n                          </button>\r\n                        ) : (\r\n                          <button\r\n                            className=\"bg-red-600 px-2 py-1 rounded\"\r\n                            type=\"button\"\r\n                            onClick={() => setParentId(\"\")}>\r\n                            Cancel\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    {parentId === comment.id && (\r\n                      <form\r\n                        method=\"post\"\r\n                        className=\"mt-2 bg-slate-500 p-5 rounded \">\r\n                        <div>\r\n                          <label>\r\n                            Replying to {comment.jokester.username}:{\" \"}\r\n                            <input name=\"comment\" type=\"text\" />\r\n                          </label>\r\n                        </div>\r\n                        <input type=\"hidden\" name=\"parentId\" value={parentId} />\r\n                        <button type=\"submit\" className=\"button\">\r\n                          reply\r\n                        </button>\r\n                      </form>\r\n                    )}\r\n                  </div>\r\n                )\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JokeRoute\r\n"],
  "mappings": "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",
  "names": ["import_react"]
}
